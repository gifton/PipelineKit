[1/1] Compiling plugin TestIntegrationCommand
[2/2] Compiling plugin TestStressTSANCommand
[3/3] Compiling plugin TestStressCommand
[4/4] Compiling plugin TestUnitCommand
[5/5] Compiling plugin Swift-DocC Preview
[6/6] Compiling plugin Swift-DocC
Building for debugging...
[6/11] Write swift-version--58304C5D6DBC2206.txt
Build complete! (0.64s)
error: Exited with unexpected signal code 6
Test Suite 'Selected tests' started at 2025-08-03 11:25:26.984.
Test Suite 'PipelineKitPackageTests.xctest' started at 2025-08-03 11:25:26.987.
Test Suite 'BenchmarkingIntegrationTests' started at 2025-08-03 11:25:26.987.
Test Case '-[StressTestIntegration.BenchmarkingIntegrationTests testPlaceholder]' started.
Test Case '-[StressTestIntegration.BenchmarkingIntegrationTests testPlaceholder]' passed (0.003 seconds).
Test Suite 'BenchmarkingIntegrationTests' passed at 2025-08-03 11:25:26.990.
	 Executed 1 test, with 0 failures (0 unexpected) in 0.003 (0.003) seconds
Test Suite 'CommandContextBenchmarkTests' started at 2025-08-03 11:25:26.990.
Test Case '-[PipelineKitTests.CommandContextBenchmarkTests testCurrentImplementationComplexTypes]' started.
Test Case '-[PipelineKitTests.CommandContextBenchmarkTests testCurrentImplementationComplexTypes]' passed (0.029 seconds).
Test Case '-[PipelineKitTests.CommandContextBenchmarkTests testCurrentImplementationConcurrent]' started.
Test Case '-[PipelineKitTests.CommandContextBenchmarkTests testCurrentImplementationConcurrent]' passed (4.477 seconds).
Test Case '-[PipelineKitTests.CommandContextBenchmarkTests testCurrentImplementationContention]' started.
Test Case '-[PipelineKitTests.CommandContextBenchmarkTests testCurrentImplementationContention]' passed (2.801 seconds).
Test Case '-[PipelineKitTests.CommandContextBenchmarkTests testCurrentImplementationMemoryPressure]' started.
Test Case '-[PipelineKitTests.CommandContextBenchmarkTests testCurrentImplementationMemoryPressure]' passed (0.119 seconds).
Test Case '-[PipelineKitTests.CommandContextBenchmarkTests testCurrentImplementationSingleThreaded]' started.
Test Case '-[PipelineKitTests.CommandContextBenchmarkTests testCurrentImplementationSingleThreaded]' passed (0.265 seconds).
Test Suite 'CommandContextBenchmarkTests' passed at 2025-08-03 11:25:34.683.
	 Executed 5 tests, with 0 failures (0 unexpected) in 7.692 (7.693) seconds
Test Suite 'ContextStorageBenchmark' started at 2025-08-03 11:25:34.683.
Test Case '-[PipelineKitTests.ContextStorageBenchmark testContextAccessPerformance]' started.
/Users/goftin/dev/gsuite/PipelineKit/Tests/PipelineKitTests/Performance/PerformanceBenchmark.swift:20: Test Case '-[PipelineKitTests.ContextStorageBenchmark testContextAccessPerformance]' measured [Memory Physical, kB] average: 22.938, relative standard deviation: 200.000%, values: [114.688000, 0.000000, 0.000000, 0.000000, 0.000000], performanceMetricID:com.apple.dt.XCTMetric_Memory.physical, baselineName: "", baselineAverage: , polarity: prefers smaller, maxPercentRegression: 10.000%, maxPercentRelativeStandardDeviation: 10.000%, maxRegression: 0.000, maxStandardDeviation: 0.000
/Users/goftin/dev/gsuite/PipelineKit/Tests/PipelineKitTests/Performance/PerformanceBenchmark.swift:20: Test Case '-[PipelineKitTests.ContextStorageBenchmark testContextAccessPerformance]' measured [CPU Instructions Retired, kI] average: 972392.963, relative standard deviation: 0.100%, values: [973710.302000, 971986.342000, 971737.644000, 971173.283000, 973357.243000], performanceMetricID:com.apple.dt.XCTMetric_CPU.instructions_retired, baselineName: "", baselineAverage: , polarity: prefers smaller, maxPercentRegression: 10.000%, maxPercentRelativeStandardDeviation: 10.000%, maxRegression: 0.000, maxStandardDeviation: 0.000
/Users/goftin/dev/gsuite/PipelineKit/Tests/PipelineKitTests/Performance/PerformanceBenchmark.swift:20: Test Case '-[PipelineKitTests.ContextStorageBenchmark testContextAccessPerformance]' measured [Clock Monotonic Time, s] average: 0.180, relative standard deviation: 1.091%, values: [0.180211, 0.176857, 0.178905, 0.180639, 0.182793], performanceMetricID:com.apple.dt.XCTMetric_Clock.time.monotonic, baselineName: "", baselineAverage: , polarity: prefers smaller, maxPercentRegression: 10.000%, maxPercentRelativeStandardDeviation: 10.000%, maxRegression: 0.000, maxStandardDeviation: 0.000
/Users/goftin/dev/gsuite/PipelineKit/Tests/PipelineKitTests/Performance/PerformanceBenchmark.swift:20: Test Case '-[PipelineKitTests.ContextStorageBenchmark testContextAccessPerformance]' measured [CPU Cycles, kC] average: 253510.209, relative standard deviation: 6.515%, values: [273587.978000, 272405.262000, 233134.855000, 247001.606000, 241421.344000], performanceMetricID:com.apple.dt.XCTMetric_CPU.cycles, baselineName: "", baselineAverage: , polarity: prefers smaller, maxPercentRegression: 10.000%, maxPercentRelativeStandardDeviation: 10.000%, maxRegression: 0.000, maxStandardDeviation: 0.000
/Users/goftin/dev/gsuite/PipelineKit/Tests/PipelineKitTests/Performance/PerformanceBenchmark.swift:20: Test Case '-[PipelineKitTests.ContextStorageBenchmark testContextAccessPerformance]' measured [CPU Time, s] average: 0.156, relative standard deviation: 2.862%, values: [0.152234, 0.149570, 0.159621, 0.156162, 0.161561], performanceMetricID:com.apple.dt.XCTMetric_CPU.time, baselineName: "", baselineAverage: , polarity: prefers smaller, maxPercentRegression: 10.000%, maxPercentRelativeStandardDeviation: 10.000%, maxRegression: 0.000, maxStandardDeviation: 0.000
/Users/goftin/dev/gsuite/PipelineKit/Tests/PipelineKitTests/Performance/PerformanceBenchmark.swift:20: Test Case '-[PipelineKitTests.ContextStorageBenchmark testContextAccessPerformance]' measured [Memory Peak Physical, kB] average: 7571.046, relative standard deviation: 0.725%, values: [7489.088000, 7521.856000, 7603.840000, 7620.224000, 7620.224000], performanceMetricID:com.apple.dt.XCTMetric_Memory.physical_peak, baselineName: "", baselineAverage: , polarity: prefers smaller, maxPercentRegression: 10.000%, maxPercentRelativeStandardDeviation: 10.000%, maxRegression: 0.000, maxStandardDeviation: 0.000
/Users/goftin/dev/gsuite/PipelineKit/Tests/PipelineKitTests/Performance/PerformanceBenchmark.swift:20: error: -[PipelineKitTests.ContextStorageBenchmark testContextAccessPerformance] : Can only record one set of metrics per test method. (NSInternalInconsistencyException)
*** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'Can only record one set of metrics per test method.'
*** First throw call stack:
(
	0   CoreFoundation                      0x000000018ad19df0 __exceptionPreprocess + 176
	1   libobjc.A.dylib                     0x000000018a7deb60 objc_exception_throw + 88
	2   Foundation                          0x000000018c042a78 -[NSCalendarDate initWithCoder:] + 0
	3   XCTestCore                          0x0000000100d956ec -[XCTestCase(XCTPerformanceAnalysis) measureWithMetrics:options:block:] + 5120
	4   XCTestCore                          0x0000000100d9428c -[XCTestCase(XCTPerformanceAnalysis) measureWithMetrics:block:] + 96
	5   PipelineKitPackageTests             0x0000000106fefdd0 $s16PipelineKitTests20PerformanceBenchmarkC9benchmark_10iterations5blockySS_SiyyYaKctYaKFTY0_ + 472
	6   PipelineKitPackageTests             0x0000000106ed8a85 $s16PipelineKitTests23ContextStorageBenchmarkC04testD17AccessPerformanceyyYaKFTQ3_ + 1
	7   PipelineKitPackageTests             0x0000000106ed9755 $s16PipelineKitTests23ContextStorageBenchmarkC04testD17AccessPerformanceyyYaKFyyYacfU_ToTQ0_ + 1
	8   PipelineKitPackageTests             0x0000000106ed9929 $s16PipelineKitTests23ContextStorageBenchmarkC04testD17AccessPerformanceyyYaKFyyYacfU_ToTATQ0_ + 1
	9   PipelineKitPackageTests             0x0000000106e09af9 $sIeghH_IeAgH_TRTQ0_ + 1
	10  PipelineKitPackageTests             0x0000000106e0a0fd $sIeghH_IeAgH_TRTATQ0_ + 1
	11  PipelineKitPackageTests             0x0000000106e09bd5 $sIeAgH_ytIeAgHr_TRTQ0_ + 1
	12  PipelineKitPackageTests             0x0000000106e0a261 $sIeAgH_ytIeAgHr_TRTATQ0_ + 1
	13  PipelineKitPackageTests             0x0000000106e09ebd $sxIeAgHr_xs5Error_pIegHrzo_s8SendableRzs5NeverORs_r0_lTRyt_Tgq5TQ0_ + 1
	14  PipelineKitPackageTests             0x0000000106e0a3a5 $sxIeAgHr_xs5Error_pIegHrzo_s8SendableRzs5NeverORs_r0_lTRyt_Tgq5TATQ0_ + 1
	15  libswift_Concurrency.dylib          0x00000002739be83d _ZL23completeTaskWithClosurePN5swift12AsyncContextEPNS_10SwiftErrorE + 1
)
libc++abi: terminating due to uncaught exception of type NSException

=== Current Implementation (NSLock) - Complex Types ===
Operations: 20000
Duration: 0.027s
Throughput: 737.6K ops/sec
Average per-operation: 1.4ns

=== Current Implementation (NSLock) - Concurrent ===
Concurrent tasks: 100
Concurrent reads: 1.304s (1533.7K ops/sec)
Concurrent writes: 1.678s (596.0K ops/sec)
Concurrent mixed: 1.494s (669.2K ops/sec)

=== Current Implementation (NSLock) - Contention Test ===
Contexts: 10, Tasks per context: 10
Duration: 2.801s
Total operations: 4000.0K
Throughput: 1428.3K ops/sec

=== Current Implementation (NSLock) - Memory Pressure ===
Operations: 50000
Duration: 0.119s
Throughput: 1264.7K ops/sec

=== Current Implementation (NSLock) - Single Threaded ===
Set operations: 0.091s (1103.2K ops/sec)
Get operations: 0.049s (2038.3K ops/sec)
Mixed operations: 0.124s (2426.3K ops/sec)
Average per-operation time:
  Set: 0.9ns
  Get: 0.5ns
􀟈  Test run started.
􀄵  Testing Library Version: 124
􀄵  Target Platform: arm64e-apple-macos14.0
􁁛  Test run with 0 tests passed after 0.001 seconds.
