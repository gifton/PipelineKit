{"topicSections":[{"title":"Initializers","identifiers":["doc:\/\/PipelineKit\/documentation\/PipelineKit\/PipelineBuilder\/init(handler:)"],"anchor":"Initializers","generated":true},{"title":"Instance Methods","identifiers":["doc:\/\/PipelineKit\/documentation\/PipelineKit\/PipelineBuilder\/build()","doc:\/\/PipelineKit\/documentation\/PipelineKit\/PipelineBuilder\/with(_:)-30keo","doc:\/\/PipelineKit\/documentation\/PipelineKit\/PipelineBuilder\/with(_:)-62nf6","doc:\/\/PipelineKit\/documentation\/PipelineKit\/PipelineBuilder\/with(_:order:)","doc:\/\/PipelineKit\/documentation\/PipelineKit\/PipelineBuilder\/withAuthentication(_:)","doc:\/\/PipelineKit\/documentation\/PipelineKit\/PipelineBuilder\/withAuthorization(_:)","doc:\/\/PipelineKit\/documentation\/PipelineKit\/PipelineBuilder\/withLogging(_:)","doc:\/\/PipelineKit\/documentation\/PipelineKit\/PipelineBuilder\/withMaxDepth(_:)","doc:\/\/PipelineKit\/documentation\/PipelineKit\/PipelineBuilder\/withOptimization()","doc:\/\/PipelineKit\/documentation\/PipelineKit\/PipelineBuilder\/withRateLimiting(_:)"],"anchor":"Instance-Methods","generated":true},{"title":"Default Implementations","identifiers":["doc:\/\/PipelineKit\/documentation\/PipelineKit\/PipelineBuilder\/Actor-Implementations"],"anchor":"Default-Implementations","generated":true}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/PipelineKit\/documentation\/PipelineKit\/PipelineBuilder"},"hierarchy":{"paths":[["doc:\/\/PipelineKit\/documentation\/PipelineKit"]]},"schemaVersion":{"patch":0,"major":0,"minor":3},"metadata":{"symbolKind":"class","role":"symbol","fragments":[{"kind":"keyword","text":"actor"},{"kind":"text","text":" "},{"kind":"identifier","text":"PipelineBuilder"}],"modules":[{"name":"PipelineKit"}],"title":"PipelineBuilder","roleHeading":"Class","navigatorTitle":[{"kind":"identifier","text":"PipelineBuilder"}],"externalID":"s:11PipelineKit0A7BuilderC"},"sections":[],"relationshipsSections":[{"kind":"relationships","title":"Conforms To","type":"conformsTo","identifiers":["doc:\/\/PipelineKit\/s8SendableP","doc:\/\/PipelineKit\/ScA"]}],"primaryContentSections":[{"kind":"declarations","declarations":[{"platforms":["macOS"],"tokens":[{"text":"actor","kind":"keyword"},{"text":" ","kind":"text"},{"text":"PipelineBuilder","kind":"identifier"},{"text":"<","kind":"text"},{"text":"T","kind":"genericParameter"},{"text":", ","kind":"text"},{"text":"H","kind":"genericParameter"},{"text":"> ","kind":"text"},{"text":"where","kind":"keyword"},{"text":" ","kind":"text"},{"text":"T","kind":"typeIdentifier"},{"text":" == ","kind":"text"},{"text":"H","kind":"typeIdentifier"},{"text":".","kind":"text"},{"text":"CommandType","kind":"typeIdentifier","preciseIdentifier":"s:15PipelineKitCore14CommandHandlerP0D4TypeQa"},{"text":", ","kind":"text"},{"text":"H","kind":"typeIdentifier"},{"text":" : ","kind":"text"},{"text":"CommandHandler","kind":"typeIdentifier","preciseIdentifier":"s:15PipelineKitCore14CommandHandlerP"}],"languages":["swift"]}]},{"kind":"content","content":[{"type":"heading","text":"Overview","level":2,"anchor":"overview"},{"type":"paragraph","inlineContent":[{"code":"PipelineBuilder","type":"codeVoice"},{"text":" provides a convenient way to construct a ","type":"text"},{"code":"StandardPipeline","type":"codeVoice"},{"text":" with","type":"text"},{"text":" ","type":"text"},{"text":"middleware and configuration options using method chaining. Actor isolation ensures","type":"text"},{"text":" ","type":"text"},{"text":"that builder state modifications are thread-safe even when accessed concurrently.","type":"text"}]},{"type":"heading","text":"Overview","level":2,"anchor":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The builder allows you to:"}]},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Add middleware individually or in batches"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Configure the maximum middleware depth"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Build a fully configured pipeline"}],"type":"paragraph"}]}]},{"type":"heading","text":"Example","level":2,"anchor":"Example"},{"type":"codeListing","code":["\/\/ Create a handler","let handler = MyCommandHandler()","","\/\/ Build a pipeline with middleware","let builder = PipelineBuilder(handler: handler)","await builder.with(LoggingMiddleware())","await builder.with(ValidationMiddleware())","await builder.with(AuthorizationMiddleware())","await builder.withMaxDepth(50)","let pipeline = try await builder.build()","","\/\/ Or add multiple middleware at once","let builder = PipelineBuilder(handler: handler)","await builder.with([","    LoggingMiddleware(),","    ValidationMiddleware(),","    AuthorizationMiddleware()","])","let pipeline = try await builder.build()"],"syntax":"swift"},{"type":"aside","style":"note","name":"Note","content":[{"inlineContent":[{"text":"The builder maintains type safety through generic constraints, ensuring","type":"text"},{"text":" ","type":"text"},{"text":"that the handler’s command type matches the pipeline’s expected command type.","type":"text"}],"type":"paragraph"}]}]}],"variants":[{"paths":["\/documentation\/pipelinekit\/pipelinebuilder"],"traits":[{"interfaceLanguage":"swift"}]}],"kind":"symbol","abstract":[{"type":"text","text":"A builder actor for constructing pipelines with a fluent API and guaranteed thread safety."}],"references":{"doc://PipelineKit/documentation/PipelineKit/PipelineBuilder":{"abstract":[{"type":"text","text":"A builder actor for constructing pipelines with a fluent API and guaranteed thread safety."}],"kind":"symbol","url":"\/documentation\/pipelinekit\/pipelinebuilder","identifier":"doc:\/\/PipelineKit\/documentation\/PipelineKit\/PipelineBuilder","type":"topic","title":"PipelineBuilder","fragments":[{"text":"actor","kind":"keyword"},{"text":" ","kind":"text"},{"text":"PipelineBuilder","kind":"identifier"}],"navigatorTitle":[{"kind":"identifier","text":"PipelineBuilder"}],"role":"symbol"},"doc://PipelineKit/documentation/PipelineKit/PipelineBuilder/init(handler:)":{"kind":"symbol","title":"init(handler:)","url":"\/documentation\/pipelinekit\/pipelinebuilder\/init(handler:)","fragments":[{"text":"init","kind":"identifier"},{"text":"(","kind":"text"},{"text":"handler","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"H","kind":"typeIdentifier"},{"text":")","kind":"text"}],"identifier":"doc:\/\/PipelineKit\/documentation\/PipelineKit\/PipelineBuilder\/init(handler:)","abstract":[{"text":"Creates a new pipeline builder with the specified handler.","type":"text"}],"role":"symbol","type":"topic"},"doc://PipelineKit/ScA":{"identifier":"doc:\/\/PipelineKit\/ScA","type":"unresolvable","title":"_Concurrency.Actor"},"doc://PipelineKit/documentation/PipelineKit/PipelineBuilder/withAuthentication(_:)":{"kind":"symbol","role":"symbol","identifier":"doc:\/\/PipelineKit\/documentation\/PipelineKit\/PipelineBuilder\/withAuthentication(_:)","title":"withAuthentication(_:)","type":"topic","url":"\/documentation\/pipelinekit\/pipelinebuilder\/withauthentication(_:)","abstract":[{"type":"text","text":"Adds authentication middleware with appropriate priority."}],"fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"withAuthentication","kind":"identifier"},{"text":"(any ","kind":"text"},{"text":"Middleware","preciseIdentifier":"s:15PipelineKitCore10MiddlewareP","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"text":"Self","kind":"typeIdentifier"}]},"doc://PipelineKit/documentation/PipelineKit/PipelineBuilder/with(_:order:)":{"url":"\/documentation\/pipelinekit\/pipelinebuilder\/with(_:order:)","type":"topic","kind":"symbol","identifier":"doc:\/\/PipelineKit\/documentation\/PipelineKit\/PipelineBuilder\/with(_:order:)","abstract":[{"type":"text","text":"Adds middleware with a specific execution priority."}],"role":"symbol","title":"with(_:order:)","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"with","kind":"identifier"},{"text":"(any ","kind":"text"},{"text":"Middleware","preciseIdentifier":"s:15PipelineKitCore10MiddlewareP","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"order","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"ExecutionPriority","preciseIdentifier":"s:15PipelineKitCore17ExecutionPriorityO","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"text":"Self","kind":"typeIdentifier"}]},"doc://PipelineKit/documentation/PipelineKit/PipelineBuilder/withLogging(_:)":{"role":"symbol","kind":"symbol","abstract":[{"type":"text","text":"Adds logging middleware with appropriate priority."}],"fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"withLogging"},{"kind":"text","text":"(any "},{"preciseIdentifier":"s:15PipelineKitCore10MiddlewareP","kind":"typeIdentifier","text":"Middleware"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"Self"}],"title":"withLogging(_:)","identifier":"doc:\/\/PipelineKit\/documentation\/PipelineKit\/PipelineBuilder\/withLogging(_:)","type":"topic","url":"\/documentation\/pipelinekit\/pipelinebuilder\/withlogging(_:)"},"doc://PipelineKit/documentation/PipelineKit/PipelineBuilder/withMaxDepth(_:)":{"role":"symbol","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"withMaxDepth"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"Int","preciseIdentifier":"s:Si"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"Self"}],"type":"topic","kind":"symbol","url":"\/documentation\/pipelinekit\/pipelinebuilder\/withmaxdepth(_:)","title":"withMaxDepth(_:)","abstract":[{"type":"text","text":"Sets the maximum depth of middleware allowed in the pipeline."}],"identifier":"doc:\/\/PipelineKit\/documentation\/PipelineKit\/PipelineBuilder\/withMaxDepth(_:)"},"doc://PipelineKit/documentation/PipelineKit/PipelineBuilder/withRateLimiting(_:)":{"abstract":[{"text":"Adds rate limiting middleware with appropriate priority.","type":"text"}],"type":"topic","role":"symbol","kind":"symbol","url":"\/documentation\/pipelinekit\/pipelinebuilder\/withratelimiting(_:)","title":"withRateLimiting(_:)","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"withRateLimiting","kind":"identifier"},{"text":"(any ","kind":"text"},{"text":"Middleware","preciseIdentifier":"s:15PipelineKitCore10MiddlewareP","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"text":"Self","kind":"typeIdentifier"}],"identifier":"doc:\/\/PipelineKit\/documentation\/PipelineKit\/PipelineBuilder\/withRateLimiting(_:)"},"doc://PipelineKit/documentation/PipelineKit/PipelineBuilder/with(_:)-30keo":{"kind":"symbol","identifier":"doc:\/\/PipelineKit\/documentation\/PipelineKit\/PipelineBuilder\/with(_:)-30keo","title":"with(_:)","url":"\/documentation\/pipelinekit\/pipelinebuilder\/with(_:)-30keo","type":"topic","abstract":[{"type":"text","text":"Adds multiple middleware to the pipeline builder at once."}],"role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"with","kind":"identifier"},{"text":"([any ","kind":"text"},{"preciseIdentifier":"s:15PipelineKitCore10MiddlewareP","text":"Middleware","kind":"typeIdentifier"},{"text":"]) -> ","kind":"text"},{"text":"Self","kind":"typeIdentifier"}]},"doc://PipelineKit/documentation/PipelineKit/PipelineBuilder/build()":{"identifier":"doc:\/\/PipelineKit\/documentation\/PipelineKit\/PipelineBuilder\/build()","url":"\/documentation\/pipelinekit\/pipelinebuilder\/build()","role":"symbol","type":"topic","title":"build()","abstract":[{"type":"text","text":"Builds and returns a configured "},{"code":"Pipeline","type":"codeVoice"},{"type":"text","text":"."}],"kind":"symbol","fragments":[{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"text":"build","kind":"identifier"},{"text":"() ","kind":"text"},{"text":"async","kind":"keyword"},{"text":" ","kind":"text"},{"text":"throws","kind":"keyword"},{"text":" -> ","kind":"text"},{"text":"StandardPipeline","preciseIdentifier":"s:11PipelineKit08StandardA0C","kind":"typeIdentifier"},{"text":"<","kind":"text"},{"text":"T","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"H","kind":"typeIdentifier"},{"text":">","kind":"text"}]},"doc://PipelineKit/documentation/PipelineKit":{"role":"collection","identifier":"doc:\/\/PipelineKit\/documentation\/PipelineKit","title":"PipelineKit","url":"\/documentation\/pipelinekit","abstract":[],"type":"topic","kind":"symbol"},"doc://PipelineKit/documentation/PipelineKit/PipelineBuilder/withOptimization()":{"title":"withOptimization()","abstract":[{"type":"text","text":"Enables middleware chain optimization for improved performance."}],"fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"withOptimization","kind":"identifier"},{"text":"() -> ","kind":"text"},{"text":"Self","kind":"typeIdentifier"}],"type":"topic","url":"\/documentation\/pipelinekit\/pipelinebuilder\/withoptimization()","role":"symbol","identifier":"doc:\/\/PipelineKit\/documentation\/PipelineKit\/PipelineBuilder\/withOptimization()","kind":"symbol"},"doc://PipelineKit/documentation/PipelineKit/PipelineBuilder/withAuthorization(_:)":{"type":"topic","role":"symbol","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"withAuthorization","kind":"identifier"},{"text":"(any ","kind":"text"},{"text":"Middleware","preciseIdentifier":"s:15PipelineKitCore10MiddlewareP","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"text":"Self","kind":"typeIdentifier"}],"identifier":"doc:\/\/PipelineKit\/documentation\/PipelineKit\/PipelineBuilder\/withAuthorization(_:)","title":"withAuthorization(_:)","url":"\/documentation\/pipelinekit\/pipelinebuilder\/withauthorization(_:)","kind":"symbol","abstract":[{"type":"text","text":"Adds authorization middleware with appropriate priority."}]},"doc://PipelineKit/documentation/PipelineKit/PipelineBuilder/with(_:)-62nf6":{"abstract":[{"text":"Adds a single middleware to the pipeline builder.","type":"text"}],"type":"topic","role":"symbol","title":"with(_:)","url":"\/documentation\/pipelinekit\/pipelinebuilder\/with(_:)-62nf6","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"with","kind":"identifier"},{"text":"(any ","kind":"text"},{"preciseIdentifier":"s:15PipelineKitCore10MiddlewareP","text":"Middleware","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"text":"Self","kind":"typeIdentifier"}],"identifier":"doc:\/\/PipelineKit\/documentation\/PipelineKit\/PipelineBuilder\/with(_:)-62nf6","kind":"symbol"},"doc://PipelineKit/s8SendableP":{"identifier":"doc:\/\/PipelineKit\/s8SendableP","type":"unresolvable","title":"Swift.Sendable"},"doc://PipelineKit/documentation/PipelineKit/PipelineBuilder/Actor-Implementations":{"type":"topic","title":"Actor Implementations","abstract":[],"url":"\/documentation\/pipelinekit\/pipelinebuilder\/actor-implementations","kind":"article","identifier":"doc:\/\/PipelineKit\/documentation\/PipelineKit\/PipelineBuilder\/Actor-Implementations","role":"collectionGroup"}}}